<!DOCTYPE html>
<html lang="ru">
<head>
  <meta charset="UTF-8" />
  <title>Cloud Storage Client</title>
  <link rel="stylesheet" href="style.css" />
</head>
<body>
  <!-- HEADER -->
  <header class="site-header">
    <h1>Cloud Storage</h1>
  </header>

  <main id="app">
    <!-- –ê—É—Ç–µ–Ω—Ç–∏—Ñ–∏–∫–∞—Ü–∏—è -->
    <template v-if="!token">
      <h2>–í—Ö–æ–¥</h2>
      <input v-model="email" placeholder="Email" />
      <input v-model="password" type="password" placeholder="–ü–∞—Ä–æ–ª—å" />

      <div class="auth-buttons">
        <button @click="login">–í–æ–π—Ç–∏</button>
        <button @click="register">–ó–∞—Ä–µ–≥–∏—Å—Ç—Ä–∏—Ä–æ–≤–∞—Ç—å—Å—è</button>
      </div>

      <div class="error">{{ authError }}</div>
    </template>

    <!-- –ì–ª–∞–≤–Ω–æ–µ –æ–∫–Ω–æ -->
    <template v-else>
      <h2>–ü—Ä–∏–≤–µ—Ç, {{ profile.email }}!</h2>
      <button class="logout-btn" @click="logout">–í—ã–π—Ç–∏</button>

      <h3>–ó–∞–≥—Ä—É–∑–∫–∞ —Ñ–∞–π–ª–∞</h3>
      <input type="file" ref="f" />
      <button @click="upload">–ó–∞–≥—Ä—É–∑–∏—Ç—å</button>
      <div class="error">{{ fileError }}</div>

      <h3>–ú–æ–∏ —Ñ–∞–π–ª—ã ({{ files.length }})</h3>
      <ul>
        <li v-for="f in files" :key="f">
          <span class="filename">{{ f }}</span>
          <div class="file-actions">
            <button @click="download(f)">üì•</button>
            <button @click="remove(f)">üóë</button>
            <button @click="makePublicLink(f)">üîó</button>
          </div>
          <div v-if="publicLinks[f]" class="public-link">
            <a :href="publicLinks[f]" target="_blank">{{ publicLinks[f] }}</a>
          </div>
        </li>
      </ul>

      <!-- –û—à–∏–±–∫–∞ –ø—Ä–∏ —Å–æ–∑–¥–∞–Ω–∏–∏ –ø—É–±–ª–∏—á–Ω–æ–π —Å—Å—ã–ª–∫–∏ -->
      <div v-if="publicLinkError" class="error">{{ publicLinkError }}</div>

      <h3>–°—Ç–∞—Ç–∏—Å—Ç–∏–∫–∞</h3>
      <div>–í—Å–µ–≥–æ —Ñ–∞–π–ª–æ–≤: {{ stats.total_files }}</div>
      <div>–û–±—â–∏–π —Ä–∞–∑–º–µ—Ä: {{ stats.total_size }} –±–∞–π—Ç</div>
    </template>
  </main>

  <!-- FOOTER -->
  <footer class="site-footer">
    <p>
      <strong>Cloud Storage API</strong> ‚Äî —ç—Ç–æ –∑–∞—â–∏—â—ë–Ω–Ω–æ–µ REST API –¥–ª—è –∑–∞–≥—Ä—É–∑–∫–∏, —É–ø—Ä–∞–≤–ª–µ–Ω–∏—è –∏ –ø–æ–ª—É—á–µ–Ω–∏—è –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏–∏ –æ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å—Å–∫–∏—Ö —Ñ–∞–π–ª–∞—Ö.<br>
      –ü—Ä–æ–µ–∫—Ç–Ω–∞—è —Ä–∞–±–æ—Ç–∞ –ø–æ –¥–∏—Å—Ü–∏–ø–ª–∏–Ω–µ ¬´–ê–ª–≥–æ—Ä–∏—Ç–º—ã –∏ —Å—Ç—Ä—É–∫—Ç—É—Ä—ã –¥–∞–Ω–Ω—ã—Ö¬ª.<br>
      –¢–µ—Ö–Ω–æ–ª–æ–≥–∏—á–µ—Å–∫–∏–π —Å—Ç–µ–∫: FastAPI, PostgreSQL, SQLAlchemy, JWT-–∞—É—Ç–µ–Ω—Ç–∏—Ñ–∏–∫–∞—Ü–∏—è, Docker.
    </p>
    <p>
      –†–µ–ø–æ–∑–∏—Ç–æ—Ä–∏–π:
      <a href="https://github.com/PhosFactum/cloud-storage" target="_blank">
        github.com/PhosFactum/cloud-storage
      </a>
    </p>
  </footer>

  <script src="https://unpkg.com/vue@3"></script>
  <script src="app.js"></script>
</body>
</html>