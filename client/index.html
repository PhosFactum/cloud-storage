<!DOCTYPE html>
<html lang="ru">
<head>
  <meta charset="UTF-8" />
  <title>Cloud Storage Client</title>
  <link rel="stylesheet" href="style.css" />
</head>
<body>
  <div id="app">
    <!-- Authentication -->
    <template v-if="!token">
      <h2>–í—Ö–æ–¥</h2>
      <input v-model="email" placeholder="Email" />
      <input v-model="password" type="password" placeholder="–ü–∞—Ä–æ–ª—å" />

      <div class="auth-buttons">
        <button @click="login">–í–æ–π—Ç–∏</button>
        <button @click="register">–ó–∞—Ä–µ–≥–∏—Å—Ç—Ä–∏—Ä–æ–≤–∞—Ç—å—Å—è</button>
      </div>

      <div class="error">{{ authError }}</div>
    </template>

    <!-- Main view -->
    <template v-else>
      <h2>–ü—Ä–∏–≤–µ—Ç, {{ profile.email }}</h2>
      <button class="logout-btn" @click="logout">–í—ã–π—Ç–∏</button>

      <h3>–ó–∞–≥—Ä—É–∑–∫–∞ —Ñ–∞–π–ª–∞</h3>
      <input type="file" ref="f" />
      <button @click="upload">–ó–∞–≥—Ä—É–∑–∏—Ç—å</button>
      <div class="error">{{ fileError }}</div>

      <h3>–ú–æ–∏ —Ñ–∞–π–ª—ã ({{ files.length }})</h3>
      <ul>
        <li v-for="f in files" :key="f">
          <span class="filename">{{ f }}</span>
          <div class="file-actions">
            <button @click="download(f)">üì•</button>
            <button @click="remove(f)">üóë</button>
          </div>
        </li>
      </ul>

      <h3>–°—Ç–∞—Ç–∏—Å—Ç–∏–∫–∞</h3>
      <div>–í—Å–µ–≥–æ —Ñ–∞–π–ª–æ–≤: {{ stats.total_files }}</div>
      <div>–û–±—â–∏–π —Ä–∞–∑–º–µ—Ä: {{ stats.total_size }} –±–∞–π—Ç</div>
    </template>
  </div>

  <script src="https://unpkg.com/vue@3"></script>
  <script src="app.js"></script>
</body>
</html>

